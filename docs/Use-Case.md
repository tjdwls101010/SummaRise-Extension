## YouTube 영상 요약 크롬 익스텐션 유스케이스 모델

### 유스케이스 목록
-	**UC-01:** YouTube 플레이어 버튼으로 영상 요약
-	**UC-02:** 사이드 패널 버튼으로 영상 요약
-	**UC-03:** 자막 텍스트 복사
-	**UC-04:** AI 챗봇 서비스 설정

---

## 유스케이스: UC-01 - YouTube 플레이어 버튼으로 영상 요약

### 주요 액터
-	직장인 (주 사용차)
-	Transcript Summarizer (시스템)
-	YouTube 웹 페이지 / DOM (외부 시스템)
-	AI 챗봇 사이트 (외부 시스템)

### 사전 조건
-	사용자는 크롬 브라우저에 'Transcript Summarizer' 익스텐션을 설치하고 활성화했습니다.
-	사용자는 현재 YouTube 영상 시청 페이지에 있습니다.
-	해당 영상에는 공식 자막 또는 자동 생성 자막이 존재합니다.
-	익스텐션 옵션 페이지에서 AI 챗봇 서비스(기본값 또는 사용자 정의)가 설정되어 있습니다.

### 주요 성공 시나리오
1.	**사용자 동작:** YouTube 영상 플레이어 컨트롤 바에 익스텐션이 추가한 '영상 요약' 버튼을 클릭합니다.
2.	**시스템 상태:**
	-	시스템(익스텐션)은 현재 페이지의 영상에서 사용 가능한 자막(Transcript) 데이터를 가져오기 시작합니다.
	-	자막 데이터 로딩이 완료되면, 미리 정의된 프롬프트("다음 텍스트를 한국어로 요약해줘:")와 자막 전체를 결합하여 하나의 텍스트 덩어리를 생성합니다.
	-	설정된 AI 챗봇 서비스 URL로 새 탭을 엽니다.
	-	새 탭의 로딩이 완료되면, 시스템은 설정된 CSS 선택자를 이용해 AI 챗봇 사이트의 메인 텍스트 입력창(Text Area)을 식별합니다.
	-	시스템은 준비된 프롬프트와 자막 텍스트를 해당 입력창에 프로그래밍 방식으로 붙여넣습니다.
	-	시스템은 자동으로 전송(Submit) 버튼을 클릭하여 AI에게 요약을 요청합니다.

### 대안 흐름 / 예외 케이스

| 조건 | 시스템 동작 |
| --- | --- |
| 영상에 사용 가능한 자막(공식/자동)이 없는 경우 | '영상 요약' 버튼을 비활성화하고, 마우스를 올리면 "요약할 자막이 없습니다."라는 툴팁을 표시합니다. |
| 자막의 길이가 설정된 AI 챗봇의 토큰 한도를 초과할 것으로 예상되는 경우 | 요약 프로세스를 시작하지 않고, "자막이 너무 깁니다. '자막 복사' 기능을 이용해 직접 붙여넣어 주세요."라는 경고 메시지를 표시합니다. 자동 분할 기능은 제공하지 않습니다. |
| YouTube의 UI 업데이트로 인해 플레이어 컨트롤 바의 DOM 구조가 변경된 경우 | 시스템이 '영상 요약' 버튼을 정상적으로 주입(inject)하지 못하여 사용자에게 버튼이 보이지 않게 됩니다. |

### 예외 처리 절차
-	**자막 로딩 실패 (네트워크 오류, CORS 등):**
	-	버튼 클릭 시 로딩 애니메이션을 잠시 표시한 후, "자막을 가져오는 데 실패했습니다. 페이지를 새로고침하거나 나중에 다시 시도해주세요."라는 오류 메시지를 툴팁으로 표시합니다.
-	**AI 챗봇 사이트의 입력창 식별 실패:**
	-	AI 챗봇 사이트 탭은 정상적으로 열리지만, 시스템이 CSS 선택자로 입력창을 찾지 못한 경우, 준비된 전체 텍스트(프롬프트 + 자막)를 사용자의 클립보드에 복사합니다.
	-	"AI 챗봇의 입력창을 찾지 못했습니다. 요약할 내용을 클립보드에 복사했으니 직접 붙여넣어 주세요(Ctrl+V)."라는 알림을 사용자에게 표시합니다.

### 사용자 인터페이스 고려사항
-	**버튼 디자인:** YouTube 플레이어의 기존 아이콘들과 조화를 이루면서도 눈에 띄는 아이콘(예: 문서, 스파클 효과)을 사용합니다.
-	**버튼 상태:** 기본(Normal), 마우스오버(Hover), 클릭(Active), 비활성(Disabled) 상태에 대한 명확한 시각적 피드백을 제공합니다.
-	**피드백 메시지:** 성공, 실패, 경고 메시지는 사용자의 작업 흐름을 방해하지 않는 토스트(Toast) 팝업이나 툴팁 형태로 간결하게 제공합니다.

### 데이터 요구사항 및 흐름
-	**입력 데이터:** 현재 YouTube 영상의 Video ID, 사용 언어 설정.
-	**처리 데이터:** 추출된 전체 자막 텍스트, 요약 요청 프롬프트 문자열.
-	**설정 데이터:** `chrome.storage.local`에 저장된 AI 챗봇 서비스 URL 및 입력창의 CSS 선택자.
-	**데이터 흐름:** YouTube DOM → 익스텐션 백그라운드 스크립트 (자막 추출 및 가공) → 새 탭 (AI 챗봇 사이트) → AI 챗봇 사이트 DOM (텍스트 주입).

### 보안 및 개인정보 보호 고려사항
-	**권한:** 익스텐션은 최소한의 권한(`activeTab`, `storage`)만 요청합니다. 사용자가 방문하는 모든 페이지에 접근하는 광범위한 권한은 요청하지 않습니다.
-	**데이터 처리:** 영상 자막은 사용자의 브라우저 내에서만 처리되며, 익스텐션 개발자의 서버 등 외부로 전송되지 않습니다. 데이터는 오직 사용자가 지정한 AI 챗봇 사이트로만 전달됩니다. 이 내용은 개인정보처리방침에 명시합니다.

### 검증
-	QA 테스터는 지원되는 YouTube 영상 페이지에서 '영상 요약' 버튼을 클릭하여, 설정된 AI 챗봇 사이트 새 탭이 열리고 프롬프트가 포함된 자막이 자동으로 입력 및 제출되는지 확인해야 합니다. 자막이 없는 영상, 네트워크 오류 시나리오 등 예외 케이스에 대한 오류 메시지가 정상적으로 표시되는지 검증합니다. LLM은 이 시나리오의 논리적 흐름과 예외 처리 방안의 타당성을 검토할 수 있습니다.

---

## 유스케이스: UC-02 - 사이드 패널 버튼으로 영상 요약

### 주요 액터
-	직장인 (주 사용차)
-	Transcript Summarizer (시스템)
-	YouTube 웹 페이지 / DOM (외부 시스템)
-	AI 챗봇 사이트 (외부 시스템)

### 사전 조건
-	UC-01과 동일합니다.
-	사용자가 YouTube의 '자막 표시' 기능을 통해 자막(Transcript) 사이드 패널을 열었습니다.

### 주요 성공 시나리오
1.	**사용자 동작:** YouTube 자막 패널 상단에 익스텐션이 추가한 '영상 요약' 버튼을 클릭합니다.
2.	**시스템 상태:**
	-	UC-01의 2번 단계와 모든 동작이 동일합니다. 시스템은 이미 표시된 자막 또는 별도로 로드한 자막 데이터를 기반으로 요약 프로세스를 시작합니다.

### 대안 흐름 / 예외 케이스
-	UC-01의 대안 흐름과 동일합니다. 자막이 없는 경우 이 버튼 자체가 표시되지 않으므로 해당 케이스는 발생하지 않습니다.

| 조건 | 시스템 동작 |
| --- | --- |
| 자막의 길이가 설정된 AI 챗봇의 토큰 한도를 초과할 것으로 예상되는 경우 | 요약 프로세스를 시작하지 않고, "자막이 너무 깁니다. '자막 복사' 기능을 이용해 직접 붙여넣어 주세요."라는 경고 메시지를 버튼 하단에 표시합니다. |
| YouTube의 UI 업데이트로 인해 자막 패널의 DOM 구조가 변경된 경우 | 시스템이 '영상 요약' 버튼을 정상적으로 주입(inject)하지 못하여 사용자에게 버튼이 보이지 않게 됩니다. |

### 예외 처리 절차
-	UC-01의 예외 처리 절차와 모든 내용이 동일합니다.

### 사용자 인터페이스 고려사항
-	**버튼 위치:** 자막 패널의 기존 기능(예: 타임스탬프 토글)과 겹치지 않는 상단 영역에 위치시킵니다.
-	**일관성:** 플레이어의 '영상 요약' 버튼과 디자인 및 아이콘의 일관성을 유지합니다. '자막 복사' 버튼과 나란히 배치하여 기능을 쉽게 인지할 수 있도록 합니다.

### 데이터 요구사항 및 흐름
-	UC-01의 데이터 요구사항 및 흐름과 모든 내용이 동일합니다.

### 보안 및 개인정보 보호 고려사항
-	UC-01의 보안 및 개인정보 보호 고려사항과 모든 내용이 동일합니다.

### 검증
-	QA 테스터는 YouTube 자막 패널을 연 상태에서 '영상 요약' 버튼을 클릭하여, UC-01과 동일한 성공 및 예외 시나리오가 발생하는지 확인해야 합니다. 두 개의 '영상 요약' 버튼(플레이어, 사이드 패널)이 동일하게 작동하는지 검증합니다.

---

## 유스케이스: UC-03 - 자막 텍스트 복사

### 주요 액터
-	직장인 (주 사용차)
-	Transcript Summarizer (시스템)
-	YouTube 웹 페이지 / DOM (외부 시스템)

### 사전 조건
-	사용자는 크롬 브라우저에 익스텐션을 설치하고 활성화했습니다.
-	사용자는 YouTube 영상 시청 페이지에 있으며, 자막 패널이 열려 있습니다.
-	해당 영상에는 자막이 존재합니다.

### 주요 성공 시나리오
1.	**사용자 동작:** 자막 패널 상단에 있는 '자막 복사' 버튼을 클릭합니다.
2.	**시스템 상태:**
	-	시스템은 현재 영상의 전체 자막 텍스트를 추출합니다. 타임스탬프는 제외하고 순수 텍스트만 추출하는 것을 기본으로 합니다.
	-	추출된 전체 텍스트를 사용자의 시스템 클립보드에 복사합니다.
	-	"자막이 클립보드에 복사되었습니다."라는 성공 메시지를 토스트 팝업 형태로 짧게 표시합니다.

### 대안 흐름 / 예외 케이스

| 조건 | 시스템 동작 |
| --- | --- |
| 자막 패널이 열려있지만, 네트워크 문제 등으로 자막 내용 로딩이 아직 완료되지 않은 경우 | 버튼 클릭 시 "자막을 로딩 중입니다. 잠시 후 다시 시도해주세요."라는 메시지를 표시합니다. |

### 예외 처리 절차
-	**자막 추출 실패:** 알 수 없는 이유로 자막 DOM을 파싱할 수 없는 경우, "자막을 복사하는 데 실패했습니다."라는 오류 메시지를 표시합니다.

### 사용자 인터페이스 고려사항
-	**버튼:** '영상 요약' 버튼 옆에 명확한 '복사' 아이콘과 함께 배치합니다.
-	**피드백:** 사용자가 버튼을 클릭했음을 인지하고, 작업이 성공적으로 완료되었음을 확신할 수 있도록 명확한 성공 메시지를 제공하는 것이 매우 중요합니다.

### 데이터 요구사항 및 흐름
-	**입력 데이터:** 현재 YouTube 영상의 Video ID.
-	**처리 데이터:** 추출된 순수 자막 텍스트.
-	**데이터 흐름:** YouTube DOM → 익스텐션 백그라운드 스크립트 → 시스템 클립보드.

### 보안 및 개인정보 보호 고려사항
-	클립보드에 접근하는 기능(`clipboardWrite` 권한)은 사용자 동작(버튼 클릭)에 의해서만 트리거되어야 합니다. 백그라운드에서 임의로 클립보드에 쓰는 행위는 금지됩니다.

### 검증
-	QA 테스터는 '자막 복사' 버튼을 클릭한 후, 텍스트 편집기나 다른 입력창에 붙여넣기(Ctrl+V)를 실행하여 타임스탬프가 제거된 전체 자막이 정확히 복사되었는지 확인해야 합니다.

---

## 유스케이스: UC-04 - AI 챗봇 서비스 설정

### 주요 액터
-	직장인 (주 사용차)
-	Transcript Summarizer (시스템)

### 사전 조건
-	사용자는 크롬 브라우저에 익스텐션을 설치하고 활성화했습니다.

### 주요 성공 시나리오
1.	**사용자 동작:** 브라우저 툴바의 익스텐션 아이콘을 우클릭한 후 '옵션' 메뉴를 선택하거나, 팝업 메뉴를 통해 옵션 페이지로 진입합니다.
2.	**시스템 상태:** 익스텐션의 옵션 페이지가 새 탭으로 열립니다.
3.	**사용자 동작:**
	-	'AI 서비스 선택' 드롭다운 메뉴에서 미리 설정된 서비스(예: ChatGPT, Gemini, Claude) 중 하나를 선택합니다.
	-	또는 '사용자 정의'를 선택하고, 직접 사용할 AI 챗봇 사이트의 URL과 텍스트 입력창의 CSS 선택자를 각각의 입력 필드에 기입합니다.
4.	**사용자 동작:** '저장' 버튼을 클릭합니다.
5.	**시스템 상태:**
	-	시스템은 사용자가 선택하거나 입력한 정보를 유효성 검사합니다(URL 형식 등).
	-	유효한 정보는 `chrome.storage.local` API를 사용하여 사용자의 브라우저 저장소에 안전하게 저장됩니다.
	-	"설정이 저장되었습니다."라는 확인 메시지를 페이지에 표시합니다.

### 대안 흐름 / 예외 케이스

| 조건 | 시스템 동작 |
| --- | --- |
| 사용자가 '사용자 정의'를 선택했지만 URL이나 CSS 선택자를 입력하지 않고 저장 버튼을 누른 경우 | "URL과 CSS 선택자를 모두 입력해주세요."라는 오류 메시지를 필드 옆에 표시하고 저장을 막습니다. |
| 사용자가 유효하지 않은 URL 형식(예: `htp://...`)을 입력한 경우 | "올바른 URL 형식을 입력해주세요."라는 오류 메시지를 표시하고 저장을 막습니다. |

### 예외 처리 절차
-	**저장소 API 오류:** `chrome.storage.local`에 접근할 수 없는 드문 경우, "설정을 저장하는 데 실패했습니다. 브라우저를 다시 시작하거나 익스텐션을 재설치해보세요."라는 일반적인 오류 메시지를 표시합니다.

### 사용자 인터페이스 고려사항
-	**단순성:** 사용자가 쉽게 이해하고 설정할 수 있도록 UI를 간결하게 구성합니다.
-	**안내:** 'CSS 선택자'와 같이 일반 사용자에게 생소할 수 있는 항목에 대해서는 "이것이 무엇인가요?"와 같은 도움말 링크나 툴팁을 제공하여 간단한 설명을 볼 수 있게 합니다.
-	**피드백:** 저장 버튼 클릭 시, 버튼이 잠시 비활성화되거나 로딩 상태를 표시하여 작업이 처리 중임을 알리고, 완료 후 성공 메시지를 명확히 보여줍니다.

### 데이터 요구사항 및 흐름
-	**입력 데이터:** 사용자가 선택한 AI 서비스 이름, 또는 직접 입력한 URL과 CSS 선택자 문자열.
-	**처리 데이터:** 입력 데이터에 대한 유효성 검사 결과 (Boolean).
-	**데이터 흐름:** 옵션 페이지 HTML Form → 익스텐션 스크립트 → `chrome.storage.local` 저장소.

### 보안 및 개인정보 보호 고려사항
-	사용자가 입력한 URL과 CSS 선택자 값은 로컬 저장소에만 저장됩니다. 이 정보는 외부 서버로 전송되지 않습니다.
-	입력된 값을 저장하기 전에 간단한 정제(Sanitization) 과정을 거쳐 잠재적인 스크립트 주입 위험을 최소화할 수 있으나, 해당 설정은 해당 사용자에게만 영향을 미치므로 위험도는 낮습니다.

### 검증
-	QA 테스터는 옵션 페이지에서 기본 AI 서비스를 선택하고 저장한 뒤, UC-01을 실행하여 해당 AI 사이트가 열리는지 확인해야 합니다. 또한, 사용자 정의 URL과 유효한 CSS 선택자를 입력하고 저장한 뒤, 동일한 테스트를 통해 사용자 정의 설정이 정상적으로 동작하는지 검증해야 합니다. 유효하지 않은 값을 입력했을 때 오류 메시지가 표시되는지도 확인해야 합니다.